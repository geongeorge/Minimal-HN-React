(this["webpackJsonpminimal-react-hn"]=this["webpackJsonpminimal-react-hn"]||[]).push([[0],{34:function(e,t,a){e.exports=a(73)},39:function(e,t,a){},40:function(e,t,a){},62:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(24),o=a.n(c),s=(a(39),a(40),a(10)),i=a(3),l=a(26),u=a.n(l).a.create({baseURL:"https://hacker-news.firebaseio.com/v0/"}),m=["top","show","ask","job"];function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m[0];return new Promise((function(t,a){m.includes(e)||a("Not relevent");var n="/"+e+"stories.json";u.get(n).then((function(e){var a=e.data;t(a)})).catch((function(e){console.log(e),a(e)}))}))}a(62);var d=function(e){return r.a.createElement(s.a,Object.assign({},e,{getProps:function(e){return{className:e.isCurrent?"font-bold underline":""}}}))};function v(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),c=a[0],o=a[1];return Object(n.useEffect)((function(){var e=m.map((function(e){var t=e.charAt(0).toUpperCase()+e.slice(1),a=e;return"top"===e&&(a="/"),{text:t,link:a}}));o(e)}),[]),r.a.createElement("header",{className:"App-header"},r.a.createElement("div",{className:"bg-gray-200"},r.a.createElement("nav",{className:"container p-4 mx-auto App-nav"},c.map((function(e,t){return r.a.createElement(d,{key:t,to:e.link},e.text)}))),r.a.createElement("div",null)))}var p=a(27),h=a(13),E=a.n(h),b=a(28),y=a(9),g=a(6),x=a(29),j=a.n(x);function N(e){var t=Object(n.useState)({}),a=Object(i.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)(!1),l=Object(i.a)(s,2),m=l[0],f=l[1];Object(n.useEffect)((function(){var t,a=!0;return console.log(e.story,a,e.id),(t=e.id,new Promise((function(e,a){u.get("/item/".concat(t,".json")).then((function(t){var a=t.data;e(a)})).catch((function(e){console.log(e),a(e)}))}))).then((function(e){a&&o(e)})),function(){return a=!1}}),[]),Object(n.useEffect)((function(){var e=!0;return c&&Object.keys(c).length>0&&e&&f(!0),function(){return e=!1}}),[c]);return r.a.createElement("div",null,m?r.a.createElement(y.a.div,{variants:{open:{y:0,opacity:1,transition:{y:{stiffness:1e3,velocity:-100}}},closed:{y:50,opacity:0,transition:{y:{stiffness:1e3}}}},whileHover:{scale:1.01,boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)"},whileTap:{scale:.99},className:"border rounded p-2 mt-2"},r.a.createElement("div",{className:"w-full flex cursor-pointer group"},r.a.createElement("div",{className:"flex-1"},r.a.createElement("div",{className:"overflow-hidden"},c.url?r.a.createElement("a",{className:"hover:underline",href:c.url},c.title):c.title),r.a.createElement("div",{className:"text-gray-500 flex flex-row justify-start mt-1 text-sm"},r.a.createElement("div",{className:"flex-0 mr-2"},r.a.createElement(g.a,{icon:["far","user"],className:"text-gray-500"})," ",c.by),r.a.createElement("div",{className:"flex-0 mr-2"},r.a.createElement(g.a,{icon:["far","clock"],className:"text-gray-500"})," ",j.a.unix(c.time).fromNow()),r.a.createElement("div",{className:"flex-0"},r.a.createElement(g.a,{icon:["far","comments"],className:"text-gray-500"})," ",c.kids?c.kids.length:"0"))),r.a.createElement("div",{className:"flex flex-col justify-center items-center px-2 text-3xl"},r.a.createElement("span",null,c.score," ",r.a.createElement(g.a,{icon:"caret-up",className:"text-gray-500"}))))):r.a.createElement("div",{className:"border rounded p-2 mt-2 h-12"}))}var O=a(12),w=a(31),k=a.n(w);function S(){var e=Object(p.a)(["\n          display: block;\n          margin: 0 auto;\n        "]);return S=function(){return e},e}function C(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)(!1),l=Object(i.a)(s,2),u=l[0],d=l[1],v=Object(n.useState)([]),p=Object(i.a)(v,2),h=p[0],g=p[1];Object(n.useEffect)((function(){var t=!0;function a(){return(a=Object(b.a)(E.a.mark((function a(){var n,r;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n="top",e.story?m.includes(e.story)&&(n=e.story):n="top",a.next=4,f(n);case 4:r=a.sent,t&&(g(r),d(!0));case 6:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return function(){a.apply(this,arguments)}(),function(){return t=!1}}),[]),Object(n.useEffect)((function(){h.length>0&&o(!0)}),[h]);var x=Object(O.css)(S());return r.a.createElement("div",{key:e.story},r.a.createElement(y.a.div,{initial:!1,animate:c?"open":"closed",variants:{open:{transition:{staggerChildren:.03,delayChildren:.2}},closed:{transition:{staggerChildren:.05,staggerDirection:-1}}}},h.map((function(t,a){return r.a.createElement(N,{id:t,story:e.story,key:e.story+a.toString()})}))),r.a.createElement(k.a,{css:x,size:150,color:"#123abc",loading:!u}))}var A=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(v,null),r.a.createElement("div",{className:"content-container container mx-auto px-4"},r.a.createElement("div",null,r.a.createElement(s.b,null,r.a.createElement(C,{path:"/"}),r.a.createElement(C,{path:"/:story"})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(72);var P=a(5),B=a(32),J=a(11),U=a(33);P.b.add(B.a,J.a,U.a),o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.35d04f3f.chunk.js.map